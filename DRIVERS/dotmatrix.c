#include "gpio.h"

void dot_alphabet(const unsigned char a,port n1,port n2 )
{
    
   volatile unsigned char *port[] = { &PORTA,&PORTB,&PORTC,&PORTD,&PORTE };
   volatile unsigned char *tris[] = { &TRISA,&TRISB,&TRISC,&TRISD,&TRISE };
   volatile unsigned char *p1,*p2,*t1,*t2;
   p1=port[n1];
   p2=port[n2];
   t1=tris[n1];
   t2=tris[n2];
   *t1=0x00;
   *t2=0x00;

   volatile unsigned char i1 = a -'A';
   const unsigned char alphabet[26][8] =
{
/* A */ {0x00,0x3C,0x66,0x66,0x7E,0x66,0x66,0x66},
/* B */ {0x00,0x78,0x48,0x48,0x70,0x48,0x48,0x78},
/* C */ {0x00,0x1E,0x20,0x40,0x40,0x40,0x20,0x1E},
/* D */ {0x00,0x38,0x24,0x22,0x22,0x24,0x38,0x00},
/* E */ {0x00,0x3C,0x20,0x38,0x20,0x20,0x3C,0x00},
/* F */ {0x00,0x3C,0x20,0x38,0x20,0x20,0x20,0x00},
/* G */ {0x00,0x3E,0x20,0x20,0x2E,0x22,0x3E,0x00},
/* H */ {0x00,0x24,0x24,0x3C,0x24,0x24,0x24,0x00},
/* I */ {0x00,0x38,0x10,0x10,0x10,0x10,0x38,0x00},
/* J */ {0x00,0x1C,0x08,0x08,0x08,0x28,0x38,0x00},
/* K */ {0x00,0x24,0x28,0x30,0x28,0x24,0x24,0x00},
/* L */ {0x00,0x20,0x20,0x20,0x20,0x20,0x3C,0x00},
/* M */ {0x00,0x44,0xAA,0x92,0x82,0x82,0x00,0x00},
/* N */ {0x00,0x22,0x32,0x2A,0x26,0x22,0x00,0x00},
/* O */ {0x00,0x3C,0x42,0x42,0x42,0x42,0x3C,0x00},
/* P */ {0x00,0x38,0x24,0x24,0x38,0x20,0x20,0x00},
/* Q */ {0x00,0x3C,0x42,0x42,0x46,0x3E,0x01,0x00},
/* R */ {0x00,0x38,0x24,0x24,0x38,0x24,0x24,0x00},
/* S */ {0x00,0x3C,0x20,0x3C,0x04,0x04,0x3C,0x00},
/* T */ {0x00,0x7C,0x10,0x10,0x10,0x10,0x10,0x00},
/* U */ {0x00,0x42,0x42,0x42,0x42,0x24,0x18,0x00},
/* V */ {0x00,0x22,0x22,0x22,0x14,0x14,0x08,0x00},
/* W */ {0x00,0x82,0x92,0x54,0x54,0x28,0x00,0x00},
/* X */ {0x00,0x42,0x24,0x18,0x18,0x24,0x42,0x00},
/* Y */ {0x00,0x44,0x28,0x10,0x10,0x10,0x10,0x00},
/* Z */ {0x00,0x3C,0x04,0x08,0x10,0x20,0x3C,0x00}
};



    unsigned char col[8] = {
        0xFE,0xFD,0xFB,0xF7,
        0xEF,0xDF,0xBF,0x7F
    };

   
           for(unsigned char k=0; k<50; k++) 
            {
                for(unsigned char i=0; i<8; i++)
                {
                    *p1 =  col[i];             // column select
                    *p2 = alphabet[i1][i];    // row data
                    __delay_ms(0.2);
                }
             }
     return;  
}
